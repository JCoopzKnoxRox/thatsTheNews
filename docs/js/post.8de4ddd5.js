(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["post"],{"0d48":function(e,t,n){"use strict";n("b0c0"),n("a4d3"),n("e01a");var c=n("7a23"),r={class:"subvue-info"},u=Object(c["h"])("p",null,[Object(c["h"])("strong",null,"Moderators")],-1);function s(e,t,n,s,o,a){var b=Object(c["y"])("router-link");return Object(c["q"])(),Object(c["d"])("div",r,[Object(c["h"])(b,{class:"heading",to:{name:"Subvue",params:{name:n.subvue.permalink}}},{default:Object(c["F"])((function(){return[Object(c["h"])("h2",null,Object(c["A"])(n.subvue.name),1)]})),_:1},8,["to"]),Object(c["h"])("p",null,Object(c["A"])(n.subvue.description),1),o.subscribed?Object(c["e"])("",!0):(Object(c["q"])(),Object(c["d"])("button",{key:0,onClick:t[1]||(t[1]=function(){return a.subscribe&&a.subscribe.apply(a,arguments)}),class:"subscribe-button"},"Subscribe")),o.subscribed?(Object(c["q"])(),Object(c["d"])("button",{key:1,onClick:t[2]||(t[2]=function(){return a.unsubscribe&&a.unsubscribe.apply(a,arguments)}),class:"subscribe-button"},"Unsubscibe")):Object(c["e"])("",!0),u,Object(c["h"])("ul",null,[(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(n.subvue.moderators,(function(e){return Object(c["q"])(),Object(c["d"])("li",{key:e.username},[Object(c["h"])(b,{to:{name:"User",params:{username:e.username}}},{default:Object(c["F"])((function(){return[Object(c["g"])(Object(c["A"])(e.username),1)]})),_:2},1032,["to"])])})),128))])])}n("4de4");var o=n("aaff"),a=n("bf80"),b={name:"subvue-info",props:["subvue"],data:function(){return{subscribed:!1}},methods:{subscribe:function(){var e=this;if(!this.$store.state.isUserLoggedIn)return this.$router.push({name:"Login"}),!1;o["a"].subscribe(this.subvue.permalink).then((function(t){e.$store.dispatch("updateSubscribedSubvues",t.data.subscribed),e.checkSubscribed()}))},unsubscribe:function(){var e=this;if(!this.$store.state.isUserLoggedIn)return this.$router.push({name:"Login"}),!1;o["a"].unsubscribe(this.subvue.permalink).then((function(t){e.$store.dispatch("updateSubscribedSubvues",t.data.subscribed),e.checkSubscribed()}))},checkSubscribed:function(){var e=this;if(!this.$store.state.isUserLoggedIn)return!1;a["a"].username(this.$store.state.user.username).then((function(t){var n=t.data.subscribed.filter((function(t){return t.permalink==e.subvue.permalink}));e.subscribed=n.length>0}))}},mounted:function(){this.checkSubscribed()},watch:{subvue:function(){this.checkSubscribed()}}};n("6469");b.render=s;t["a"]=b},"37d3":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),r=Object(c["I"])("data-v-5a07073d");Object(c["t"])("data-v-5a07073d");var u={class:"post"},s={class:"main-container"},o={class:"body container"},a={class:"content"},b=Object(c["h"])("title",null,"Delete Post",-1),i=Object(c["h"])("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},null,-1),d=Object(c["h"])("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),l=Object(c["h"])("title",null,"Cancel",-1),h=Object(c["h"])("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},null,-1),j=Object(c["h"])("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),O={class:"error"},m=Object(c["g"])("by "),f={class:"post-id"},v={class:"container"},p={class:"error"},C=Object(c["h"])("input",{class:"button",type:"submit",value:"Create comment"},null,-1),w={key:1};Object(c["r"])();var g=r((function(e,t,n,g,y,k){var S=Object(c["y"])("Vote"),q=Object(c["y"])("router-link"),A=Object(c["y"])("Comment"),I=Object(c["y"])("SubvueInfo"),H=Object(c["y"])("CreateButton");return Object(c["q"])(),Object(c["d"])("div",u,[Object(c["h"])("div",s,[Object(c["h"])("div",o,[Object(c["h"])(S,{upvotes:y.upvotes,downvotes:y.downvotes,postId:y.id,onError:t[1]||(t[1]=function(e){y.error=e})},null,8,["upvotes","downvotes","postId"]),Object(c["h"])("div",a,[(Object(c["q"])(),Object(c["d"])("svg",{id:"delete-button",onClick:t[2]||(t[2]=function(){return k.deletePost&&k.deletePost.apply(k,arguments)}),fill:"#000000",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},[b,i,d])),Object(c["G"])((Object(c["q"])(),Object(c["d"])("svg",{id:"verify-delete-button",onClick:t[3]||(t[3]=function(e){return y.deleteVerify=!1}),fill:"#000000",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},[l,h,j],512)),[[c["D"],y.deleteVerify]]),Object(c["h"])("p",O,Object(c["A"])(y.error),1),Object(c["h"])("h1",null,Object(c["A"])(y.title),1),Object(c["h"])("h3",null,[m,Object(c["h"])(q,{to:{name:"User",params:{username:y.user.username}}},{default:r((function(){return[Object(c["g"])(Object(c["A"])(y.user.username),1)]})),_:1},8,["to"]),Object(c["g"])(" on "+Object(c["A"])(y.created),1)]),Object(c["h"])("p",{innerHTML:y.content},null,8,["innerHTML"]),Object(c["h"])("i",f,"ID "+Object(c["A"])(y.id),1)])]),Object(c["h"])("div",v,[Object(c["G"])(Object(c["h"])("h2",null,"Comments",512),[[c["D"],y.comments==[]]]),Object(c["h"])("form",{id:"comment-form",onSubmit:t[5]||(t[5]=Object(c["H"])((function(){return k.createComment&&k.createComment.apply(k,arguments)}),["prevent"]))},[Object(c["h"])("p",p,Object(c["A"])(y.errorCreateComment),1),Object(c["G"])(Object(c["h"])("textarea",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return y.newCommentContent=e}),name:"name",placeholder:"Content",rows:"5",cols:"80"},null,512),[[c["C"],y.newCommentContent]]),C],32),(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(y.comments,(function(e){return Object(c["q"])(),Object(c["d"])(A,{key:e.id,user:e.user,created:e.created,content:e.content},null,8,["user","created","content"])})),128))])]),y.subvue?(Object(c["q"])(),Object(c["d"])(I,{key:0,class:"subvue-info",subvue:y.subvue},null,8,["subvue"])):(Object(c["q"])(),Object(c["d"])("div",w)),Object(c["h"])(H)])})),y=Object(c["I"])("data-v-ad05aa1c");Object(c["t"])("data-v-ad05aa1c");var k={class:"comment"},S=Object(c["g"])("by "),q={href:""};Object(c["r"])();var A=y((function(e,t,n,r,u,s){return Object(c["q"])(),Object(c["d"])("div",k,[Object(c["h"])("h4",null,[S,Object(c["h"])("a",q,Object(c["A"])(n.user.username),1),Object(c["g"])(" on "+Object(c["A"])(n.created),1)]),Object(c["h"])("p",{innerHTML:n.content},null,8,["innerHTML"])])})),I={name:"comment",props:["user","created","content"],data:function(){return{}}};n("bd4e");I.render=A,I.__scopeId="data-v-ad05aa1c";var H=I,L=n("0d48"),M=n("3ffe"),V=n("e70a"),$=n("46fe"),U={name:"post",components:{Comment:H,Vote:V["a"],SubvueInfo:L["a"],CreateButton:M["a"]},data:function(){return{error:null,id:this.$route.params.id,title:"",user:"",subvue:null,created:"",content:"",comments:[],upvotes:[],downvotes:[],deleteVerify:!1,newCommentContent:"",errorCreateComment:null}},methods:{deletePost:function(){var e=this;this.deleteVerify?$["a"].delete(this.id).then((function(){e.$router.push({name:"Home"})})).catch((function(t){e.error=t.response.data.error})):this.deleteVerify=!0},createComment:function(){var e=this;$["a"].addComment(this.id,this.newCommentContent).then((function(t){e.comments=t.data,e.newCommentContent="",e.errorCreateComment=null})).catch((function(t){e.errorCreateComment=t.response.data.error}))}},mounted:function(){var e=this;$["a"].item(this.id).then((function(t){e.title=t.data.title,e.user=t.data.user,e.created=t.data.created,e.content=t.data.content,e.comments=t.data.comments,e.upvotes=t.data.upvotes,e.downvotes=t.data.downvotes,e.subvue=t.data.subvue})).catch((function(t){e.error=t.response.data.error}))}};n("f65e");U.render=g,U.__scopeId="data-v-5a07073d";t["default"]=U},"4de4":function(e,t,n){"use strict";var c=n("23e7"),r=n("b727").filter,u=n("1dde"),s=n("ae40"),o=u("filter"),a=s("filter");c({target:"Array",proto:!0,forced:!o||!a},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"5bcb":function(e,t,n){},6469:function(e,t,n){"use strict";n("92e5")},"92e5":function(e,t,n){},aaff:function(e,t,n){"use strict";var c=n("3f4a");t["a"]={item:function(e){return Object(c["a"])().get("subvues/"+e)},create:function(e){return Object(c["a"])().post("subvues",e)},posts:function(e){return Object(c["a"])().get("subvues/"+e+"/posts")},subscribe:function(e){return Object(c["a"])().post("subvues/"+e+"/subscribe")},unsubscribe:function(e){return Object(c["a"])().post("subvues/"+e+"/unsubscribe")}}},bd4e:function(e,t,n){"use strict";n("ed1c")},ed1c:function(e,t,n){},f65e:function(e,t,n){"use strict";n("5bcb")}}]);
//# sourceMappingURL=post.8de4ddd5.js.map