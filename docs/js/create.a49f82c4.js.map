{"version":3,"sources":["webpack:///./src/views/CreatePost.vue?a10a","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/CreatePost.vue","webpack:///./src/views/CreatePost.vue?c321"],"names":["DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","class","id","type","value","create","enctype","title","placeholder","ref","subvue","imagePreview","style","image","name","fileChanged","accept","content","rows","cols","data","methods","formData","FormData","append","console","log","PostsService","then","response","$router","push","params","subvuePermalink","permalink","catch","e","target","files","reader","FileReader","onload","result","readAsDataURL","mounted","$refs","focus","render","__scopeId"],"mappings":"0GAAA,W,8CCAA,IAAIA,EAAc,EAAQ,QACtBC,EAAiB,EAAQ,QAAuCC,EAEhEC,EAAoBC,SAASC,UAC7BC,EAA4BH,EAAkBI,SAC9CC,EAAS,wBACTC,EAAO,OAIPT,KAAiBS,KAAQN,IAC3BF,EAAeE,EAAmBM,EAAM,CACtCC,cAAc,EACdC,IAAK,WACH,IACE,OAAOL,EAA0BM,KAAKC,MAAMC,MAAMN,GAAQ,GAC1D,MAAOO,GACP,MAAO,Q,gJChBRC,MAAM,yB,EACT,eAAoB,UAAhB,eAAW,G,GAEVA,MAAM,S,GAIJC,GAAG,gB,2BAEgB,iC,EAA6B,eAAI,mB,iBAAA,uB,YAQzD,eAAwD,SAAjDD,MAAM,SAASE,KAAK,SAASC,MAAM,e,iFAjB9C,eAmBM,MAnBN,EAmBM,CAlBJ,EACA,eAgBO,QAhBA,SAAM,8CAAU,EAAAC,QAAA,EAAAA,OAAA,qBAAM,cAAEC,QAAQ,uB,CACrC,eAAgC,IAAhC,EAAgC,eAAZ,EAAAN,OAAK,G,eACzB,eAAmE,S,qDAAnD,EAAAO,MAAK,IAAEJ,KAAK,OAAOK,YAAY,QAAQC,IAAI,S,mBAA3C,EAAAF,S,eAChB,eAAyD,S,qDAAzC,EAAAG,OAAM,IAAEP,KAAK,OAAOK,YAAY,U,mBAAhC,EAAAE,UACL,EAAAC,c,iBAAX,eAAyG,O,MAAhFT,GAAG,gBAAiBU,MAAK,yBAA6B,EAAAD,aAAY,K,+BAC3F,eAQM,MARN,EAQM,CAPJ,eAKI,UAJW,EAAAE,O,iBACb,eAEO,wBADF,EAAAA,MAAMC,MAAI,K,iBAFf,eAA+E,U,EAA9B,E,OAKnD,eAA0D,SAAnDX,KAAK,OAAQ,SAAM,8BAAE,EAAAY,aAAA,EAAAA,YAAA,qBAAaC,OAAO,W,0BAElD,eAA6F,Y,qDAA1E,EAAAC,QAAO,IAAEH,KAAK,OAAON,YAAY,UAAUU,KAAK,KAAKC,KAAK,M,mBAA1D,EAAAF,WACnB,G,qBAQS,GACXH,KAAM,cAENM,KAHW,WAIP,MAAO,CACHb,MAAO,GACPG,OAAQ,GACRO,QAAS,GACTjB,MAAO,KACPa,MAAO,KACPF,aAAc,OAItBU,QAAS,CACLhB,OADK,WACI,WACDiB,EAAW,IAAIC,SACnBD,EAASE,OAAO,QAAS1B,KAAKS,OAC9Be,EAASE,OAAO,SAAU1B,KAAKY,QAC/BY,EAASE,OAAO,UAAW1B,KAAKmB,SAChCQ,QAAQC,IAAIJ,GAGRxB,KAAKe,OACLS,EAASE,OAAO,QAAS1B,KAAKe,MAAOf,KAAKe,MAAMC,MAGpDa,EAAA,KAAatB,OAAOiB,GACfM,MAAK,SAAAC,GACF,EAAKC,QAAQC,KAAK,CACdjB,KAAM,OACNkB,OAAQ,CAAE9B,GAAI2B,EAAST,KAAKlB,GAAI+B,gBAAiBJ,EAAST,KAAKV,OAAOwB,gBAG7EC,OAAM,SAAAnC,GACH,EAAKA,MAAQA,EAAM6B,SAAST,KAAKpB,UAI7Ce,YAzBK,SAyBOqB,GAAG,WACXtC,KAAKe,MAAQuB,EAAEC,OAAOC,MAAM,GAG5B,IAAIC,EAAS,IAAIC,WACjBD,EAAOE,OAAS,SAACL,GACb,EAAKzB,aAAeyB,EAAEC,OAAOK,QAEjCH,EAAOI,cAAc7C,KAAKe,SAIlC+B,QAnDW,WAqDP9C,KAAK+C,MAAMtC,MAAMuC,U,UC1EzB,EAAOC,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/create.a49f82c4.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CreatePost.vue?vue&type=style&index=0&id=754a4b51&scoped=true&lang=css\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template lang=\"html\">\n  <div class=\"create-post container\">\n    <h1>Create Post</h1>\n    <form @submit.prevent=\"create\" enctype=\"multipart/form-data\">\n      <p class=\"error\">{{ error }}</p>\n      <input v-model=\"title\" type=\"text\" placeholder=\"Title\" ref=\"title\">\n      <input v-model=\"subvue\" type=\"text\" placeholder=\"Subvue\">\n      <div v-if=\"imagePreview\" id=\"image-preview\" :style=\"'background-image: url(' + imagePreview + ')'\"></div>\n      <div id=\"image-upload\">\n        <p>\n          <span v-if=\"!image\">Drag your image here to begin<br> or click to browse</span>\n          <span v-else>\n            {{ image.name }}\n          </span>\n        </p>\n        <input type=\"file\" @change=\"fileChanged\" accept=\"image/*\">\n      </div>\n      <textarea v-model=\"content\" name=\"name\" placeholder=\"Content\" rows=\"25\" cols=\"80\"></textarea>\n      <input class=\"button\" type=\"submit\" value=\"Create post\">\n    </form>\n  </div>\n</template>\n\n<script>\nimport PostsService from '@/services/PostsService'\n\nexport default {\n    name: 'create-post',\n\n    data() {\n        return {\n            title: '',\n            subvue: '',\n            content: '',\n            error: null,\n            image: null,\n            imagePreview: null,\n        }\n    },\n\n    methods: {\n        create() {\n            var formData = new FormData();\n            formData.append('title', this.title)\n            formData.append('subvue', this.subvue)\n            formData.append('content', this.content)\n            console.log(formData)\n\n            // If photo has been set\n            if (this.image) {\n                formData.append('image', this.image, this.image.name)\n            }\n\n            PostsService.create(formData)\n                .then(response => {\n                    this.$router.push({\n                        name: 'Post',\n                        params: { id: response.data.id, subvuePermalink: response.data.subvue.permalink }\n                    })\n                })\n                .catch(error => {\n                    this.error = error.response.data.error\n                })\n        },\n\n        fileChanged(e) {\n            this.image = e.target.files[0]\n\n            // Show image preview\n            var reader = new FileReader();\n            reader.onload = (e) => {\n                this.imagePreview = e.target.result;\n            };\n            reader.readAsDataURL(this.image);\n        }\n    },\n\n    mounted() {\n        // Focus title\n        this.$refs.title.focus();\n    }\n}\n</script>\n\n<style scoped lang=\"css\">\nform {\n    max-width: 1500px;\n    width: 100%;\n    margin: 0 auto;\n}\n\ninput,\ntextarea {\n    display: block;\n    width: 100%;\n    margin: 0;\n    border: none;\n    background: rgb(223, 224, 221);\n    padding: 15px;\n    margin: 20px 0;\n\n    -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n    -moz-box-sizing: border-box; /* Firefox, other Gecko */\n    box-sizing: border-box; /* Opera/IE 8+ */\n}\n\n#image-upload {\n    outline: 2px dashed grey;\n    outline-offset: -10px;\n    background: rgb(223, 224, 221);\n    color: dimgray;\n    cursor: pointer;\n    position: relative;\n    height: 100px;\n}\n\n#image-upload:hover {\n    background: rgb(191, 191, 191);\n}\n\n#image-upload input {\n    opacity: 0; /* invisible but it's there! */\n    width: 100%;\n    height: 100%;\n    cursor: pointer;\n}\n\n#image-upload p {\n    text-align: center;\n    position: absolute;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    width: 50%;\n    height: 30%;\n    margin: auto;\n    width: 100%;\n}\n\n#image-preview {\n    margin: 0 auto;\n    max-width: 250px;\n    width: 100%;\n    height: 150px;\n    background-repeat: no-repeat;\n    background-size: cover;\n    background-position: center;\n}\n</style>\n","import { render } from \"./CreatePost.vue?vue&type=template&id=754a4b51&scoped=true&lang=html\"\nimport script from \"./CreatePost.vue?vue&type=script&lang=js\"\nexport * from \"./CreatePost.vue?vue&type=script&lang=js\"\n\nimport \"./CreatePost.vue?vue&type=style&index=0&id=754a4b51&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-754a4b51\"\n\nexport default script"],"sourceRoot":""}